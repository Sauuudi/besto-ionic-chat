<ion-content>
  <ion-list lines="none">
    <ion-item *ngFor="let room of rooms; index as index">
      <ion-label routerLink="chat/{{room.id}}"
        >id: {{room.id}} / {{room.name}}</ion-label
      >
    </ion-item>
    <ion-row>
      <ion-item>
        <ion-button (click)="logout()">SIGN OUT</ion-button>
      </ion-item>
      <ion-item>
        <ion-button id="open-modal">Create New Room</ion-button>
      </ion-item>
    </ion-row>
  </ion-list>
  <ion-modal trigger="open-modal" (willDismiss)="onWillDismiss($event)">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-buttons slot="start">
            <ion-button (click)="cancel()">Cancel</ion-button>
          </ion-buttons>
          <ion-buttons slot="end">
            <ion-button
              (click)="confirm()"
              (click)="createRoom()"
              [strong]="true"
              >Confirm</ion-button
            >
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <ion-item>
          <ion-label position="stacked"
            >Enter room name (4 char min.)</ion-label
          >
          <ion-input
            type="text"
            minlength="4"
            placeholder="room name"
            [(ngModel)]="newRoomName"
          ></ion-input>
        </ion-item>
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>
